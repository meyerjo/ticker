{% extends 'base.html' %}
{% block extracss %}
    <style>
        body {
            background-color: lightgrey;
        }

        .team, .score {
            font-size: 3em;
            text-align: center;
            background-color: red;
            color: darkblue;
            padding: 30px 0;
        }

        td {
            vertical-align: middle;
        }

        td.set, th.set {
            text-align: center ;
        }

        .setactive {
            font-weight: bold;

        }

        .player {
            height: 50px;
        }

        .field div {
            text-align: center;
        }


        .field .fieldname {
            font-size: 1.4em;
        }

        .table-striped > tbody > tr:nth-child(2n+1) > td, .table-striped > tbody > tr:nth-child(2n+1) > th {
            background-color: red;
            color: darkblue;
        }
        .table-striped > tbody > tr:nth-child(2n) > td, .table-striped > tbody > tr:nth-child(2n) > th {
            background-color: darkblue;
            color: red;
        }

        .field {
            background-color: darkblue;
            color: red;
            border: 1px solid red;
        }

    </style>
{% endblock %}

{% load custom_tags %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-sm-4 team">{{ match.team_a.get_name }}</div>
            <div class="col-sm-4 score">{{ match.get_score.0 }}:{{ match.get_score.1 }}</div>
            <div class="col-sm-4 team">{{ match.team_b.get_name }}</div>
        </div>
        <div class="row">
            {% for field in match.get_fields %}
                <div class="col-sm-6 field">
                    <div class="row">
                        <div class="col-sm-12 fieldname">
                            {{ field.get_name }}
                        </div>
                        {% with game=field.get_game %}
                            {% if game %}
                                <div class="col-sm-6 player">
                                    {{ game.player_a|format_players|safe }}
                                </div>
                                <div class="col-sm-6 player">
                                    {{ game.player_b|format_players|safe }}
                                </div>
                                {% for set in game.get_set_objects %}
                                    <div class="row">
                                        <div class="col-xs-4">{{ set.get_score.0 }}</div>
                                        <div class="col-xs-4">Satz {{ set.set_number }}</div>
                                        <div class="col-xs-4">{{ set.get_score.1 }}</div>
                                    </div>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}
                    </div>
                </div>
            {% endfor %}
        </div>

        <div class="row">
            <table class="table table-striped table-responsive">
                <tr>
                    <th>Spielname</th>
                    <th>{{ match.team_a.get_name }}</th>
                    <th>{{ match.team_b.get_name }}</th>
                    {% for set in 6|get_range:1 %}
                        <th class="set">Set {{ set }}</th>
                    {% endfor %}
                </tr>
                {% for game in match.get_all_games %}
                    <tr>
                        <td>{{ game.name }}</td>
                        <td>{{ game.player_a|format_players|safe }}</td>
                        <td>{{ game.player_b|format_players|safe }}</td>
                        {% for set in game.get_set_objects %}
                            <td class="set {{ set|is_current_set:game }}" id="set_{{ set.id }}">
                                {{ set.get_score.0 }}:{{ set.get_score.1 }}
                            </td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </table>
        </div>

    </div>


{% endblock %}